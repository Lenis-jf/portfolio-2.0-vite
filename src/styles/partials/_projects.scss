// _projects.scss
section#projects {
    height: auto;
    background-color: var(--light2-color);
    color: var(--light-color);
    text-align: center;
    padding: 90px 20px 100px 20px;

    p:nth-child(2) {
        margin: 30px 0 40px 0;
    }

    .section-changer {
        margin-top: 150px;
    }

    div.project-card {
        position: relative;
        width: 85%;
        max-width: 280px;
        height: 200px;
        margin-top: 60px;
        cursor: pointer;
        -webkit-tap-highlight-color: transparent;

        &:first-of-type {
            margin-top: 45px;
        }

        .small-info-card {
            position: absolute;
            top: 145px;
            left: calc(50% - 100px);
            display: flex;
            justify-content: center;
            align-items: center;
            width: 200px;
            height: 80px;
            flex-direction: column;
            color: var(--light-color);

            /* Fondo transl√∫cido oscuro con glassmorphism */
            background: rgba(20, 30, 25, 0.55);
            border-radius: 10px;
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);

            /* Borde y sombras para resaltar el cristal */
            border: 0.5px solid rgba(255, 255, 255, 0.35);
            box-shadow:
                0 10px 25px rgba(0, 0, 0, 0.25),
                inset 0 1px 1px rgba(255, 255, 255, 0.7),
                inset 0 -2px 6px rgba(255, 255, 255, 0.4);

            transition: opacity 0.3s ease;
            position: relative;
            overflow: hidden;

            &::before {
                content: '';
                position: absolute;
                top: 0;
                left: 10%;
                right: 10%;
                height: 2px;
                background: linear-gradient(
                    90deg,
                    transparent,
                    rgba(255, 255, 255, 0.9),
                    transparent
                );
                border-radius: 50%;
            }

            &::after {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 1px;
                height: 100%;
                background: linear-gradient(180deg,
                        rgba(255, 255, 255, 0.7),
                        transparent,
                        rgba(255, 255, 255, 0.4));
            }

            animation-duration: 0.5s;
            animation-name: cardOut;
            animation-timing-function: ease-in;
            animation-delay: 0s;
            animation-iteration-count: 1;
            animation-direction: normal;
            animation-play-state: paused;
            animation-fill-mode: forwards;
            perspective: 400px;
            transform-style: preserve-3d;

            h4,
            h6,
            p {
                margin: 0;
                padding: 0;
                width: 100%;
                height: fit-content;
            }

            h4 {
                font-size: 1rem;
            }

            h6 {
                font-size: 0.8rem;
                font-style: italic;
                margin-bottom: 5px;
                opacity: 0.9;
            }

            p {
                font-size: 0.75rem;
                padding: 0 5px;
                line-height: 10px;
                opacity: 0.75;
            }
        }


        .face {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 10px;
            box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);
            backface-visibility: hidden;
            overflow: hidden;
            transform-style: preserve-3d;
            transition: transform 0.35s ease-in-out;
            transition-delay: var(--flip-delay, 0.25s);
        }

        &.flipped {
            .face {
                transition-delay: 0s;
            }
        }

        .front img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 10px 10px 0 0;
            transform: perspective(800px) rotate(0deg);
        }

        .back {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background-color: var(--light-color);
            transform: perspective(800px) rotateY(180deg);

            img {
                margin-bottom: 5px;
            }

            .card-button {
                width: 140px;
                height: 35px;

                &:first-of-type {
                    margin-bottom: 5px;
                }
            }
        }

        &.flipped {
            .front {
                transform: perspective(800px) rotateY(180deg);
            }

            .back {
                transform: perspective(800px) rotateY(360deg);
            }
        }
    }

    &.dark-theme {
        color: var(--foreground-color);

        div.project-card {
            div.small-info-card {

                p,
                h4,
                h6 {
                    color: var(--foreground-color);
                }
            }
        }

        span { color: var(--foreground-color); }
    }
}